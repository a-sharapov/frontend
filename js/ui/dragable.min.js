!function(a){a.fn.drags=function(b){if(b=a.extend({handle:"",cursor:"move"},b),""===b.handle)var c=this;else var c=this.find(b.handle);return c.css("cursor",b.cursor).on("mousedown",function(c){if(""===b.handle)var d=a(this).addClass("draggable");else var d=a(this).addClass("active-handle").parent().addClass("draggable");var e=d.css("z-index"),f=d.outerHeight(),g=d.outerWidth(),h=d.offset().top+f-c.pageY,i=d.offset().left+g-c.pageX;d.css("z-index",1e3).parents().on("mousemove",function(b){a(".draggable").offset({top:b.pageY+h-f,left:b.pageX+i-g}).on("mouseup",function(){a(this).removeClass("draggable").css("z-index",e)})}),c.preventDefault()}).on("mouseup",function(){""===b.handle?a(this).removeClass("draggable"):a(this).removeClass("active-handle").parent().removeClass("draggable")})}}(jQuery);